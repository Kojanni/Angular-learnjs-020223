<!-- <form #form="ngForm" class="filter" (ngSubmit)="onSubmit(form.value)">
	<mat-form-field appearance="fill">
		<mat-label>Search</mat-label>
		<input matInput ngModel name="name"/>
	</mat-form-field>

	<div
		*ngIf="brands; else loaderTemplateRef"
		class="checkbox-container"
		ngModelGroup="brands"
	>
		<mat-checkbox
			*ngFor="let brand of brands; let index = index"
			[ngModel]="false"
			[name]="index.toString()"
		>
			{{ brand }}
		</mat-checkbox>
	</div>

	<div
		class="price-range"
		ngModelGroup="priceRange"
	>
		<div>
			Min
			<app-counter-input ngModel name="min"></app-counter-input>
		</div>
		<div>
			Max
			<app-counter-input ngModel name="max"></app-counter-input>
		</div>
	</div>

	<button type="submit">
		Отправить
	</button>
</form> -->
<form class="filter" [formGroup]="filterForm">
	<mat-form-field appearance="fill">
		<mat-label>Search</mat-label>
		<input matInput formControlName="name" />
	</mat-form-field>

	<div
		*ngIf="brands; else loaderTemplateRef"
		formArrayName="brands"
		class="checkbox-container"
	>
		<mat-checkbox
			*ngFor="let brand of brands; let index = index"
			[formControlName]="index"
		>
			{{ brand }}
		</mat-checkbox>
	</div>

	<div formGroupName="priceRange" class="price-range">
		<div>
			Min
			<app-counter-input formControlName="min"></app-counter-input>
		</div>
		<div>
			Max
			<app-counter-input formControlName="max"></app-counter-input>
		</div>
	</div>
</form>

<ng-template #loaderTemplateRef>
	<mat-spinner diameter="60" class="loader"></mat-spinner>
</ng-template>
